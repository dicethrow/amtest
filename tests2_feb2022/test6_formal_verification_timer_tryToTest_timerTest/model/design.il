# Generated by Yosys 0.13+3 (git sha1 61324cf55, clang 10.0.0-4ubuntu1 -fPIC -Os)
autoidx 64
attribute \amaranth.hierarchy "top.delayer"
attribute \generator "Amaranth"
module \delayer
  wire width 32 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  wire $13
  wire width 32 $15
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire $18
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire $20
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  wire $22
  wire $auto$opt_dff.cc:197:make_patterns_logic$44
  wire $auto$opt_dff.cc:197:make_patterns_logic$46
  wire $auto$opt_dff.cc:197:make_patterns_logic$48
  wire $auto$opt_dff.cc:197:make_patterns_logic$56
  wire $auto$opt_dff.cc:222:make_patterns_logic$50
  wire $auto$opt_dff.cc:222:make_patterns_logic$58
  wire width 2 $procmux$18_Y
  wire width 2 $procmux$20_Y
  wire width 2 $procmux$22_Y
  wire $procmux$24_CMP
  wire width 2 $procmux$25_Y
  wire $procmux$27_CMP
  wire width 32 $procmux$30_Y
  wire width 32 $procmux$32_Y
  wire width 32 $procmux$35_Y
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 4 \clk
  attribute \init 0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 output 2 \counter_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:13"
  wire output 1 \done
  attribute \init 2'01
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  wire width 2 \fsm_state
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:10"
  wire width 32 input 5 \reload
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 3 \rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire input 6 \start
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:37"
  cell $sub $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 32
    connect \A \counter_out
    connect \B 1'1
    connect \Y $10
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $gt $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \reload
    connect \B 1'0
    connect \Y $13
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:45"
  cell $sub $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 32
    connect \A \reload
    connect \B 1'1
    connect \Y $15
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $gt $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'0
    connect \Y $18
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:21"
  cell $logic_not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \Y \done
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $and $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \start
    connect \B $18
    connect \Y $20
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'1
    connect \Y $22
  end
  cell $sdffe $auto$ff.cc:262:slice$43
    parameter \CLK_POLARITY 1
    parameter \EN_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 2'01
    parameter \WIDTH 2
    connect \CLK \clk
    connect \D $procmux$20_Y
    connect \EN $auto$opt_dff.cc:222:make_patterns_logic$50
    connect \Q \fsm_state
    connect \SRST \rst
  end
  cell $sdffe $auto$ff.cc:262:slice$53
    parameter \CLK_POLARITY 1
    parameter \EN_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 0
    parameter \WIDTH 32
    connect \CLK \clk
    connect \D $procmux$32_Y
    connect \EN $auto$opt_dff.cc:222:make_patterns_logic$58
    connect \Q \counter_out
    connect \SRST \rst
  end
  cell $reduce_bool $auto$opt_dff.cc:198:make_patterns_logic$45
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A { $procmux$27_CMP $procmux$24_CMP \done }
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$44
  end
  cell $ne $auto$opt_dff.cc:198:make_patterns_logic$47
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $procmux$27_CMP $20 }
    connect \B 2'10
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$46
  end
  cell $ne $auto$opt_dff.cc:198:make_patterns_logic$49
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $procmux$24_CMP $22 }
    connect \B 2'10
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$48
  end
  cell $ne $auto$opt_dff.cc:198:make_patterns_logic$57
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $13 \done }
    connect \B 2'01
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$56
  end
  cell $reduce_and $auto$opt_dff.cc:223:make_patterns_logic$51
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A { $auto$opt_dff.cc:197:make_patterns_logic$48 $auto$opt_dff.cc:197:make_patterns_logic$46 $auto$opt_dff.cc:197:make_patterns_logic$44 }
    connect \Y $auto$opt_dff.cc:222:make_patterns_logic$50
  end
  cell $reduce_and $auto$opt_dff.cc:223:make_patterns_logic$59
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $auto$opt_dff.cc:197:make_patterns_logic$56 $auto$opt_dff.cc:197:make_patterns_logic$44 }
    connect \Y $auto$opt_dff.cc:222:make_patterns_logic$58
  end
  attribute \full_case 1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $mux $procmux$18
    parameter \WIDTH 2
    connect \A 2'01
    connect \B 2'10
    connect \S $13
    connect \Y $procmux$18_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:41|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $pmux $procmux$20
    parameter \S_WIDTH 3
    parameter \WIDTH 2
    connect \A 2'x
    connect \B { $procmux$25_Y $procmux$22_Y $procmux$18_Y }
    connect \S { $procmux$27_CMP $procmux$24_CMP \done }
    connect \Y $procmux$20_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  cell $mux $procmux$22
    parameter \WIDTH 2
    connect \A 2'x
    connect \B 2'00
    connect \S $22
    connect \Y $procmux$22_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:36|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $eq $procmux$24_CMP0
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 2'10
    connect \Y $procmux$24_CMP
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $mux $procmux$25
    parameter \WIDTH 2
    connect \A 2'x
    connect \B 2'10
    connect \S $20
    connect \Y $procmux$25_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:23|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $eq $procmux$27_CMP0
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'1
    connect \Y $procmux$27_CMP
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $mux $procmux$30
    parameter \WIDTH 32
    connect \A 32'x
    connect \B $15
    connect \S $13
    connect \Y $procmux$30_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:41|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $pmux $procmux$32
    parameter \S_WIDTH 3
    parameter \WIDTH 32
    connect \A 32'x
    connect \B { $procmux$35_Y $10 $procmux$30_Y }
    connect \S { $procmux$27_CMP $procmux$24_CMP \done }
    connect \Y $procmux$32_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $mux $procmux$35
    parameter \WIDTH 32
    connect \A 5
    connect \B $10
    connect \S $20
    connect \Y $procmux$35_Y
  end
end
attribute \keep 1
attribute \amaranth.hierarchy "top"
attribute \top 1
attribute \generator "Amaranth"
module \top
  attribute \src "test6_formal_verification_timer.py:71"
  wire $7
  attribute \src "test6_formal_verification_timer.py:71"
  wire $9
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:71"
  wire $assert$check
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:71"
  wire $assert$en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 2 \clk
  attribute \init 0
  attribute \src "test6_formal_verification_timer.py:52"
  wire width 32 \debug__count$4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 \delayer_counter_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:13"
  wire \delayer_done
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire \delayer_start
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:10"
  wire width 32 input 3 \reload
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 1 \rst
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:51"
  wire \ui__done$2
  attribute \src "test6_formal_verification_timer.py:43"
  wire input 4 \ui__start
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:51"
  wire \ui__start$1
  attribute \src "test6_formal_verification_timer.py:71"
  cell $ne $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \ui__done$2
    connect \B $7
    connect \Y $9
  end
  attribute \src "test6_formal_verification_timer.py:71"
  cell $assert $11
    connect \A $assert$check
    connect \EN $assert$en
  end
  cell $dff $20
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D 1'1
    connect \Q $assert$en
  end
  cell $dff $21
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D $9
    connect \Q $assert$check
  end
  attribute \src "test6_formal_verification_timer.py:71"
  cell $logic_not $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \Y_WIDTH 1
    connect \A \debug__count$4
    connect \Y $7
  end
  cell $sdff $auto$ff.cc:262:slice$60
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 0
    parameter \WIDTH 32
    connect \CLK \clk
    connect \D \delayer_counter_out
    connect \Q \debug__count$4
    connect \SRST \rst
  end
  cell $sdff $auto$ff.cc:262:slice$61
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \delayer_done
    connect \Q \ui__done$2
    connect \SRST \rst
  end
  cell $sdff $auto$ff.cc:262:slice$62
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__start$1
    connect \Q \delayer_start
    connect \SRST \rst
  end
  cell $sdff $auto$ff.cc:262:slice$63
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__start
    connect \Q \ui__start$1
    connect \SRST \rst
  end
  cell \delayer \delayer
    connect \clk \clk
    connect \counter_out \delayer_counter_out
    connect \done \delayer_done
    connect \reload \reload
    connect \rst \rst
    connect \start \delayer_start
  end
end
