# Generated by Yosys 0.13+3 (git sha1 61324cf55, clang 10.0.0-4ubuntu1 -fPIC -Os)
autoidx 85
attribute \amaranth.hierarchy "top.dut.delayer"
attribute \generator "Amaranth"
module \delayer
  wire width 32 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  wire $13
  wire width 32 $15
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire $18
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire $20
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  wire $22
  wire $auto$opt_dff.cc:197:make_patterns_logic$58
  wire $auto$opt_dff.cc:197:make_patterns_logic$60
  wire $auto$opt_dff.cc:197:make_patterns_logic$62
  wire $auto$opt_dff.cc:197:make_patterns_logic$70
  wire $auto$opt_dff.cc:222:make_patterns_logic$64
  wire $auto$opt_dff.cc:222:make_patterns_logic$72
  wire width 2 $procmux$32_Y
  wire width 2 $procmux$34_Y
  wire width 2 $procmux$36_Y
  wire $procmux$38_CMP
  wire width 2 $procmux$39_Y
  wire $procmux$41_CMP
  wire width 32 $procmux$44_Y
  wire width 32 $procmux$46_Y
  wire width 32 $procmux$49_Y
  attribute \init 0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 output 4 \counter_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:13"
  wire output 3 \done
  attribute \init 2'01
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  wire width 2 \fsm_state
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:10"
  wire width 32 input 5 \reload
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire input 2 \start
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 1 \sync_1e6_clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 6 \sync_1e6_rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:37"
  cell $sub $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 32
    connect \A \counter_out
    connect \B 1'1
    connect \Y $10
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $gt $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \reload
    connect \B 1'0
    connect \Y $13
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:45"
  cell $sub $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 32
    connect \A \reload
    connect \B 1'1
    connect \Y $15
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $gt $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'0
    connect \Y $18
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:21"
  cell $logic_not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \Y \done
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $and $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \start
    connect \B $18
    connect \Y $20
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'1
    connect \Y $22
  end
  cell $sdffe $auto$ff.cc:262:slice$57
    parameter \CLK_POLARITY 1
    parameter \EN_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 2'01
    parameter \WIDTH 2
    connect \CLK \sync_1e6_clk
    connect \D $procmux$34_Y
    connect \EN $auto$opt_dff.cc:222:make_patterns_logic$64
    connect \Q \fsm_state
    connect \SRST \sync_1e6_rst
  end
  cell $sdffe $auto$ff.cc:262:slice$67
    parameter \CLK_POLARITY 1
    parameter \EN_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 0
    parameter \WIDTH 32
    connect \CLK \sync_1e6_clk
    connect \D $procmux$46_Y
    connect \EN $auto$opt_dff.cc:222:make_patterns_logic$72
    connect \Q \counter_out
    connect \SRST \sync_1e6_rst
  end
  cell $reduce_bool $auto$opt_dff.cc:198:make_patterns_logic$59
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A { $procmux$41_CMP $procmux$38_CMP \done }
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$58
  end
  cell $ne $auto$opt_dff.cc:198:make_patterns_logic$61
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $procmux$41_CMP $20 }
    connect \B 2'10
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$60
  end
  cell $ne $auto$opt_dff.cc:198:make_patterns_logic$63
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $procmux$38_CMP $22 }
    connect \B 2'10
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$62
  end
  cell $ne $auto$opt_dff.cc:198:make_patterns_logic$71
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $13 \done }
    connect \B 2'01
    connect \Y $auto$opt_dff.cc:197:make_patterns_logic$70
  end
  cell $reduce_and $auto$opt_dff.cc:223:make_patterns_logic$65
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A { $auto$opt_dff.cc:197:make_patterns_logic$62 $auto$opt_dff.cc:197:make_patterns_logic$60 $auto$opt_dff.cc:197:make_patterns_logic$58 }
    connect \Y $auto$opt_dff.cc:222:make_patterns_logic$64
  end
  cell $reduce_and $auto$opt_dff.cc:223:make_patterns_logic$73
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A { $auto$opt_dff.cc:197:make_patterns_logic$70 $auto$opt_dff.cc:197:make_patterns_logic$58 }
    connect \Y $auto$opt_dff.cc:222:make_patterns_logic$72
  end
  attribute \full_case 1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $mux $procmux$32
    parameter \WIDTH 2
    connect \A 2'01
    connect \B 2'10
    connect \S $13
    connect \Y $procmux$32_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:41|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $pmux $procmux$34
    parameter \S_WIDTH 3
    parameter \WIDTH 2
    connect \A 2'x
    connect \B { $procmux$39_Y $procmux$36_Y $procmux$32_Y }
    connect \S { $procmux$41_CMP $procmux$38_CMP \done }
    connect \Y $procmux$34_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  cell $mux $procmux$36
    parameter \WIDTH 2
    connect \A 2'x
    connect \B 2'00
    connect \S $22
    connect \Y $procmux$36_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:36|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $eq $procmux$38_CMP0
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 2'10
    connect \Y $procmux$38_CMP
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $mux $procmux$39
    parameter \WIDTH 2
    connect \A 2'x
    connect \B 2'10
    connect \S $20
    connect \Y $procmux$39_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:23|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $eq $procmux$41_CMP0
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'1
    connect \Y $procmux$41_CMP
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $mux $procmux$44
    parameter \WIDTH 32
    connect \A 32'x
    connect \B $15
    connect \S $13
    connect \Y $procmux$44_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:41|/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  cell $pmux $procmux$46
    parameter \S_WIDTH 3
    parameter \WIDTH 32
    connect \A 32'x
    connect \B { $procmux$49_Y $10 $procmux$44_Y }
    connect \S { $procmux$41_CMP $procmux$38_CMP \done }
    connect \Y $procmux$46_Y
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $mux $procmux$49
    parameter \WIDTH 32
    connect \A 100
    connect \B $10
    connect \S $20
    connect \Y $procmux$49_Y
  end
end
attribute \amaranth.hierarchy "top.dut"
attribute \generator "Amaranth"
module \dut
  attribute \src "test6_formal_verification_timer.py:64"
  wire $5
  attribute \init 0
  attribute \src "test6_formal_verification_timer.py:44"
  wire width 32 output 3 \debug__count
  attribute \init 0
  attribute \src "test6_formal_verification_timer.py:52"
  wire width 32 \debug__count$4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 \delayer_counter_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:13"
  wire \delayer_done
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire \delayer_start
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:10"
  wire width 32 input 6 \reload
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 5 \sync_1e6_clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 4 \sync_1e6_rst
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:43"
  wire output 2 \ui__active
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:51"
  wire \ui__active$3
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:43"
  wire output 1 \ui__done
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:51"
  wire \ui__done$2
  attribute \src "test6_formal_verification_timer.py:43"
  wire input 7 \ui__start
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:51"
  wire \ui__start$1
  attribute \src "test6_formal_verification_timer.py:64"
  cell $ne $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 7
    parameter \Y_WIDTH 1
    connect \A \delayer_counter_out
    connect \B 7'1100100
    connect \Y $5
  end
  cell $sdff $auto$ff.cc:262:slice$74
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \ui__active$3
    connect \Q \ui__active
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$75
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \ui__done$2
    connect \Q \ui__done
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$76
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \ui__start
    connect \Q \ui__start$1
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$77
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D $5
    connect \Q \ui__active$3
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$78
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 0
    parameter \WIDTH 32
    connect \CLK \sync_1e6_clk
    connect \D \delayer_counter_out
    connect \Q \debug__count$4
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$79
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \delayer_done
    connect \Q \ui__done$2
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$80
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \ui__start$1
    connect \Q \delayer_start
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$81
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 0
    parameter \WIDTH 32
    connect \CLK \sync_1e6_clk
    connect \D \debug__count$4
    connect \Q \debug__count
    connect \SRST \sync_1e6_rst
  end
  cell \delayer \delayer
    connect \counter_out \delayer_counter_out
    connect \done \delayer_done
    connect \reload \reload
    connect \start \delayer_start
    connect \sync_1e6_clk \sync_1e6_clk
    connect \sync_1e6_rst \sync_1e6_rst
  end
end
attribute \keep 1
attribute \amaranth.hierarchy "top"
attribute \top 1
attribute \generator "Amaranth"
module \top
  attribute \src "test6_formal_verification_timer.py:44"
  attribute \unused_bits "0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31"
  wire width 32 \dut_debug__count
  attribute \src "test6_formal_verification_timer.py:43"
  attribute \unused_bits "0"
  wire \dut_ui__active
  attribute \src "test6_formal_verification_timer.py:43"
  wire \dut_ui__done
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:43"
  wire \dut_ui__start
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:10"
  wire width 32 input 3 \reload
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 2 \sync_1e6_clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ir.py:527"
  wire input 1 \sync_1e6_rst
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:101"
  wire \ui__done$2
  attribute \src "test6_formal_verification_timer.py:92"
  wire input 4 \ui__start
  attribute \init 1'0
  attribute \src "test6_formal_verification_timer.py:101"
  wire \ui__start$1
  attribute \src "test6_formal_verification_timer.py:125"
  cell $cover $4
    connect \A \ui__done$2
    connect \EN 1'1
  end
  cell $sdff $auto$ff.cc:262:slice$82
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \dut_ui__done
    connect \Q \ui__done$2
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$83
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \ui__start$1
    connect \Q \dut_ui__start
    connect \SRST \sync_1e6_rst
  end
  cell $sdff $auto$ff.cc:262:slice$84
    parameter \CLK_POLARITY 1
    parameter \SRST_POLARITY 1
    parameter \SRST_VALUE 1'0
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \ui__start
    connect \Q \ui__start$1
    connect \SRST \sync_1e6_rst
  end
  cell \dut \dut
    connect \debug__count \dut_debug__count
    connect \reload \reload
    connect \sync_1e6_clk \sync_1e6_clk
    connect \sync_1e6_rst \sync_1e6_rst
    connect \ui__active \dut_ui__active
    connect \ui__done \dut_ui__done
    connect \ui__start \dut_ui__start
  end
end
