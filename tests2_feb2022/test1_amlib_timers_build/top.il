# Automatically generated by Amaranth 0.3. Do not edit.
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.i_button_ffsync"
module \i_button_ffsync
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 1 \i_unsync_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 2 \i_unsync_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 3 \i_unsync_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 4 \i_unsync_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 5 \i_unsync_buttons__down
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 6 \i_unsync_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 7 \i_unsync_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 output 8 \i_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 output 9 \i_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 output 10 \i_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 11 \rst
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \i_unsync_buttons__right \i_unsync_buttons__left \i_unsync_buttons__down \i_unsync_buttons__up \i_unsync_buttons__fireB \i_unsync_buttons__fireA \i_unsync_buttons__pwr }
    sync init
      update \stage0 7'0000000
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 7'0000000
    sync posedge \clk
      update \stage1 \stage1$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__down
  process $group_2
    assign \i_buttons__pwr 1'0
    assign \i_buttons__fireA 1'0
    assign \i_buttons__fireB 1'0
    assign \i_buttons__up 1'0
    assign \i_buttons__down 1'0
    assign \i_buttons__left 1'0
    assign \i_buttons__right 1'0
    assign { \i_buttons__right \i_buttons__left \i_buttons__down \i_buttons__up \i_buttons__fireB \i_buttons__fireA \i_buttons__pwr } \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb.dut.delayer"
module \delayer
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 input 0 \sync_1e6_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 input 1 \sync_1e6_rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire width 1 input 2 \start
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:13"
  wire width 1 output 3 \done
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 output 4 \counter_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 \counter_out$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  wire width 2 \fsm_state
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
  wire width 2 \fsm_state$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:21"
  wire width 1 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:21"
  cell $eq $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'0
    connect \Y $1
  end
  process $group_0
    assign \done 1'0
    assign \done $1
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:10"
  wire width 32 \reload
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire width 1 $3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $gt $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'0
    connect \Y $3
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $and $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \start
    connect \B $3
    connect \Y $5
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:33"
  wire width 33 $7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:33"
  wire width 33 $8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:33"
  cell $sub $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 33
    connect \A \counter_out
    connect \B 1'1
    connect \Y $8
  end
  connect $7 $8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:37"
  wire width 33 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:37"
  wire width 33 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:37"
  cell $sub $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 33
    connect \A \counter_out
    connect \B 1'1
    connect \Y $11
  end
  connect $10 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  wire width 1 $13
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $gt $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \reload
    connect \B 1'0
    connect \Y $13
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:45"
  wire width 33 $15
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:45"
  wire width 33 $16
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:45"
  cell $sub $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 33
    connect \A \reload
    connect \B 1'1
    connect \Y $16
  end
  connect $15 $16
  process $group_1
    assign \counter_out$next \counter_out
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:23"
      attribute \amaranth.decoding "IDLE/1"
      case 2'01
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:25"
        switch { 1'1 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:25"
          case 1'1
            assign \counter_out$next 32'00000000000011110100001001000000
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:27"
          case
            assign \counter_out$next \reload
        end
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
        switch { $5 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
          case 1'1
            assign \counter_out$next $7 [31:0]
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:36"
      attribute \amaranth.decoding "RUNNING/2"
      case 2'10
        assign \counter_out$next $10 [31:0]
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:41"
      attribute \amaranth.decoding "DONE/0"
      case 2'00
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
        switch { $13 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
          case 1'1
            assign \counter_out$next $15 [31:0]
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:48"
          case
        end
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \counter_out$next 32'00000000000000000000000000000000
    end
    sync init
      update \counter_out 32'00000000000000000000000000000000
    sync posedge \sync_1e6_clk
      update \counter_out \counter_out$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire width 1 $18
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $gt $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'0
    connect \Y $18
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  wire width 1 $20
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
  cell $and $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \start
    connect \B $18
    connect \Y $20
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  wire width 1 $22
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \counter_out
    connect \B 1'1
    connect \Y $22
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  wire width 1 $24
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
  cell $gt $25
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \reload
    connect \B 1'0
    connect \Y $24
  end
  process $group_2
    assign \fsm_state$next \fsm_state
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:20"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:23"
      attribute \amaranth.decoding "IDLE/1"
      case 2'01
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
        switch { $20 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:30"
          case 1'1
            assign \fsm_state$next 2'10
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:36"
      attribute \amaranth.decoding "RUNNING/2"
      case 2'10
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
        switch { $22 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:38"
          case 1'1
            assign \fsm_state$next 2'00
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:41"
      attribute \amaranth.decoding "DONE/0"
      case 2'00
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
        switch { $24 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:42"
          case 1'1
            assign \fsm_state$next 2'10
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:48"
          case
            assign \fsm_state$next 2'01
        end
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \fsm_state$next 2'01
    end
    sync init
      update \fsm_state 2'01
    sync posedge \sync_1e6_clk
      update \fsm_state \fsm_state$next
  end
  connect \reload 32'00000000000000000000000000000000
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb.dut"
module \dut
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 input 0 \sync_1e6_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 input 1 \sync_1e6_rst
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 input 2 \ui__start
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 output 3 \ui__done
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 \ui__done$next
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 output 4 \ui__active
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 \ui__active$next
  attribute \src "tests2_feb2022/test1_amlib_timers.py:48"
  wire width 32 output 5 \debug__count
  attribute \src "tests2_feb2022/test1_amlib_timers.py:48"
  wire width 32 \debug__count$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire width 1 \delayer_start
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:12"
  wire width 1 \delayer_start$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:13"
  wire width 1 \delayer_done
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/utils/timer.py:11"
  wire width 32 \delayer_counter_out
  cell \delayer \delayer
    connect \sync_1e6_clk \sync_1e6_clk
    connect \sync_1e6_rst \sync_1e6_rst
    connect \start \delayer_start
    connect \done \delayer_done
    connect \counter_out \delayer_counter_out
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:54"
  wire width 1 \ui__start$1
  attribute \src "tests2_feb2022/test1_amlib_timers.py:54"
  wire width 1 \ui__start$1$next
  process $group_0
    assign \ui__start$1$next \ui__start$1
    assign \ui__start$1$next \ui__start
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__start$1$next 1'0
    end
    sync init
      update \ui__start$1 1'0
    sync posedge \sync_1e6_clk
      update \ui__start$1 \ui__start$1$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:54"
  wire width 1 \ui__done$2
  attribute \src "tests2_feb2022/test1_amlib_timers.py:54"
  wire width 1 \ui__done$2$next
  process $group_1
    assign \ui__done$next \ui__done
    assign \ui__done$next \ui__done$2
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__done$next 1'0
    end
    sync init
      update \ui__done 1'0
    sync posedge \sync_1e6_clk
      update \ui__done \ui__done$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:54"
  wire width 1 \ui__active$3
  attribute \src "tests2_feb2022/test1_amlib_timers.py:54"
  wire width 1 \ui__active$3$next
  process $group_2
    assign \ui__active$next \ui__active
    assign \ui__active$next \ui__active$3
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__active$next 1'0
    end
    sync init
      update \ui__active 1'0
    sync posedge \sync_1e6_clk
      update \ui__active \ui__active$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:55"
  wire width 32 \debug__count$4
  attribute \src "tests2_feb2022/test1_amlib_timers.py:55"
  wire width 32 \debug__count$4$next
  process $group_3
    assign \debug__count$next \debug__count
    assign \debug__count$next \debug__count$4
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \debug__count$next 32'00000000000000000000000000000000
    end
    sync init
      update \debug__count 32'00000000000000000000000000000000
    sync posedge \sync_1e6_clk
      update \debug__count \debug__count$next
  end
  process $group_4
    assign \delayer_start$next \delayer_start
    assign \delayer_start$next \ui__start$1
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \delayer_start$next 1'0
    end
    sync init
      update \delayer_start 1'0
    sync posedge \sync_1e6_clk
      update \delayer_start \delayer_start$next
  end
  process $group_5
    assign \ui__done$2$next \ui__done$2
    assign \ui__done$2$next \delayer_done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__done$2$next 1'0
    end
    sync init
      update \ui__done$2 1'0
    sync posedge \sync_1e6_clk
      update \ui__done$2 \ui__done$2$next
  end
  process $group_6
    assign \debug__count$4$next \debug__count$4
    assign \debug__count$4$next \delayer_counter_out
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \debug__count$4$next 32'00000000000000000000000000000000
    end
    sync init
      update \debug__count$4 32'00000000000000000000000000000000
    sync posedge \sync_1e6_clk
      update \debug__count$4 \debug__count$4$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:67"
  wire width 1 $5
  attribute \src "tests2_feb2022/test1_amlib_timers.py:67"
  cell $ne $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 32
    parameter \B_SIGNED 0
    parameter \B_WIDTH 20
    parameter \Y_WIDTH 1
    connect \A \delayer_counter_out
    connect \B 20'11110100001001000000
    connect \Y $5
  end
  process $group_7
    assign \ui__active$3$next \ui__active$3
    assign \ui__active$3$next $5
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__active$3$next 1'0
    end
    sync init
      update \ui__active$3 1'0
    sync posedge \sync_1e6_clk
      update \ui__active$3 \ui__active$3$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb"
module \tb
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 input 0 \sync_1e6_clk
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 input 1 \ui__start
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 output 2 \ui__done
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 \ui__done$next
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 output 3 \ui__active
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 \ui__active$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 input 4 \sync_1e6_rst
  attribute \src "tests2_feb2022/test1_amlib_timers.py:89"
  wire width 8 output 5 \leds
  attribute \src "tests2_feb2022/test1_amlib_timers.py:89"
  wire width 8 \leds$next
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 \dut_ui__start
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 \dut_ui__start$next
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 \dut_ui__done
  attribute \src "tests2_feb2022/test1_amlib_timers.py:47"
  wire width 1 \dut_ui__active
  attribute \src "tests2_feb2022/test1_amlib_timers.py:48"
  wire width 32 \dut_debug__count
  cell \dut \dut
    connect \sync_1e6_clk \sync_1e6_clk
    connect \sync_1e6_rst \sync_1e6_rst
    connect \ui__start \dut_ui__start
    connect \ui__done \dut_ui__done
    connect \ui__active \dut_ui__active
    connect \debug__count \dut_debug__count
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:96"
  wire width 1 \ui__start$1
  attribute \src "tests2_feb2022/test1_amlib_timers.py:96"
  wire width 1 \ui__start$1$next
  process $group_0
    assign \ui__start$1$next \ui__start$1
    assign \ui__start$1$next \ui__start
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__start$1$next 1'0
    end
    sync init
      update \ui__start$1 1'0
    sync posedge \sync_1e6_clk
      update \ui__start$1 \ui__start$1$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:96"
  wire width 1 \ui__done$2
  attribute \src "tests2_feb2022/test1_amlib_timers.py:96"
  wire width 1 \ui__done$2$next
  process $group_1
    assign \ui__done$next \ui__done
    assign \ui__done$next \ui__done$2
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__done$next 1'0
    end
    sync init
      update \ui__done 1'0
    sync posedge \sync_1e6_clk
      update \ui__done \ui__done$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:96"
  wire width 1 \ui__active$3
  attribute \src "tests2_feb2022/test1_amlib_timers.py:96"
  wire width 1 \ui__active$3$next
  process $group_2
    assign \ui__active$next \ui__active
    assign \ui__active$next \ui__active$3
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__active$next 1'0
    end
    sync init
      update \ui__active 1'0
    sync posedge \sync_1e6_clk
      update \ui__active \ui__active$next
  end
  process $group_3
    assign \dut_ui__start$next \dut_ui__start
    assign \dut_ui__start$next \ui__start$1
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \dut_ui__start$next 1'0
    end
    sync init
      update \dut_ui__start 1'0
    sync posedge \sync_1e6_clk
      update \dut_ui__start \dut_ui__start$next
  end
  process $group_4
    assign \ui__done$2$next \ui__done$2
    assign \ui__done$2$next \dut_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__done$2$next 1'0
    end
    sync init
      update \ui__done$2 1'0
    sync posedge \sync_1e6_clk
      update \ui__done$2 \ui__done$2$next
  end
  process $group_5
    assign \ui__active$3$next \ui__active$3
    assign \ui__active$3$next \dut_ui__active
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__active$3$next 1'0
    end
    sync init
      update \ui__active$3 1'0
    sync posedge \sync_1e6_clk
      update \ui__active$3 \ui__active$3$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:97"
  wire width 32 \debug__count
  attribute \src "tests2_feb2022/test1_amlib_timers.py:97"
  wire width 32 \debug__count$next
  process $group_6
    assign \debug__count$next \debug__count
    assign \debug__count$next \dut_debug__count
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \debug__count$next 32'00000000000000000000000000000000
    end
    sync init
      update \debug__count 32'00000000000000000000000000000000
    sync posedge \sync_1e6_clk
      update \debug__count \debug__count$next
  end
  process $group_7
    assign \leds$next \leds
    assign \leds$next \debug__count [31:15] [7:0]
    sync init
      update \leds 8'00000000
    sync posedge \sync_1e6_clk
      update \leds \leds$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_0"
module \pin_led_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  cell \OB \led_0_0
    connect \I \led_0__o
    connect \O \led_0__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_1"
module \pin_led_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_1__io
  cell \OB \led_1_0
    connect \I \led_1__o
    connect \O \led_1__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_2"
module \pin_led_2
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_2__io
  cell \OB \led_2_0
    connect \I \led_2__o
    connect \O \led_2__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_3"
module \pin_led_3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_3__io
  cell \OB \led_3_0
    connect \I \led_3__o
    connect \O \led_3__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_4"
module \pin_led_4
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_4__io
  cell \OB \led_4_0
    connect \I \led_4__o
    connect \O \led_4__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_5"
module \pin_led_5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_5__io
  cell \OB \led_5_0
    connect \I \led_5__o
    connect \O \led_5__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_6"
module \pin_led_6
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_6__io
  cell \OB \led_6_0
    connect \I \led_6__o
    connect \O \led_6__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_7"
module \pin_led_7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_7__io
  cell \OB \led_7_0
    connect \I \led_7__o
    connect \O \led_7__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__en"
module \pin_esp32_spi_0__en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__en__io
  cell \OB \esp32_spi_0__en_0
    connect \I \esp32_spi_0__en__o
    connect \O \esp32_spi_0__en__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__tx"
module \pin_esp32_spi_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__tx__io
  cell \OB \esp32_spi_0__tx_0
    connect \I \esp32_spi_0__tx__o
    connect \O \esp32_spi_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__rx"
module \pin_esp32_spi_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__rx__io
  cell \IB \esp32_spi_0__rx_0
    connect \I \esp32_spi_0__rx__io
    connect \O \esp32_spi_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio0"
module \pin_esp32_spi_0__gpio0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 1 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__oe
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio0__oe
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__i
  cell \BB \esp32_spi_0__gpio0_0
    connect \T { $1 }
    connect \I \esp32_spi_0__gpio0__o
    connect \O \esp32_spi_0__gpio0__i
    connect \B \esp32_spi_0__gpio0__io
  end
  connect \esp32_spi_0__gpio0__oe 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio4_copi"
module \pin_esp32_spi_0__gpio4_copi
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio4_copi__i
  cell \IB \esp32_spi_0__gpio4_copi_0
    connect \I \esp32_spi_0__gpio4_copi__io
    connect \O \esp32_spi_0__gpio4_copi__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio5_cs"
module \pin_esp32_spi_0__gpio5_cs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \esp32_spi_0__gpio5_cs__i_n
  cell \IB \esp32_spi_0__gpio5_cs_0
    connect \I \esp32_spi_0__gpio5_cs__io
    connect \O \esp32_spi_0__gpio5_cs__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio5_cs__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio5_cs__i_n
    connect \Y $1
  end
  process $group_0
    assign \esp32_spi_0__gpio5_cs__i 1'0
    assign \esp32_spi_0__gpio5_cs__i $1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio12_cipo"
module \pin_esp32_spi_0__gpio12_cipo
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 0 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio12_cipo__o
  cell \OB \esp32_spi_0__gpio12_cipo_0
    connect \I \esp32_spi_0__gpio12_cipo__o
    connect \O \esp32_spi_0__gpio12_cipo__io
  end
  connect \esp32_spi_0__gpio12_cipo__o 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio16_sclk"
module \pin_esp32_spi_0__gpio16_sclk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio16_sclk__i
  cell \IB \esp32_spi_0__gpio16_sclk_0
    connect \I \esp32_spi_0__gpio16_sclk__io
    connect \O \esp32_spi_0__gpio16_sclk__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rx"
module \pin_uart_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rx__io
  cell \IB \uart_0__rx_0
    connect \I \uart_0__rx__io
    connect \O \uart_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__tx"
module \pin_uart_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \uart_0__tx__io
  cell \OB \uart_0__tx_0
    connect \I \uart_0__tx__o
    connect \O \uart_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rts"
module \pin_uart_0__rts
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rts__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rts__io
  cell \IB \uart_0__rts_0
    connect \I \uart_0__rts__io
    connect \O \uart_0__rts__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__dtr"
module \pin_uart_0__dtr
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__dtr__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__dtr__io
  cell \IB \uart_0__dtr_0
    connect \I \uart_0__dtr__io
    connect \O \uart_0__dtr__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_clk25_0"
module \pin_clk25_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \clk25_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \clk25_0__io
  cell \IB \clk25_0_0
    connect \I \clk25_0__io
    connect \O \clk25_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_pwr_0"
module \pin_button_pwr_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_pwr_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \button_pwr_0__i_n
  cell \IB \button_pwr_0_0
    connect \I \button_pwr_0__io
    connect \O \button_pwr_0__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \button_pwr_0__i_n
    connect \Y $1
  end
  process $group_0
    assign \button_pwr_0__i 1'0
    assign \button_pwr_0__i $1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_0"
module \pin_button_fire_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_0__io
  cell \IB \button_fire_0_0
    connect \I \button_fire_0__io
    connect \O \button_fire_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_1"
module \pin_button_fire_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_1__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_1__io
  cell \IB \button_fire_1_0
    connect \I \button_fire_1__io
    connect \O \button_fire_1__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_up_0"
module \pin_button_up_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_up_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_up_0__io
  cell \IB \button_up_0_0
    connect \I \button_up_0__io
    connect \O \button_up_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_down_0"
module \pin_button_down_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_down_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_down_0__io
  cell \IB \button_down_0_0
    connect \I \button_down_0__io
    connect \O \button_down_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_left_0"
module \pin_button_left_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_left_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_left_0__io
  cell \IB \button_left_0_0
    connect \I \button_left_0__io
    connect \O \button_left_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_right_0"
module \pin_button_right_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_right_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_right_0__io
  cell \IB \button_right_0_0
    connect \I \button_right_0__io
    connect \O \button_right_0__i
  end
end
attribute \generator "Amaranth"
attribute \top 1
attribute \amaranth.hierarchy "top"
module \top
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 0 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 2 \led_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 3 \led_2__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 4 \led_3__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 5 \led_4__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 6 \led_5__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 7 \led_6__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 8 \led_7__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 9 \esp32_spi_0__en__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 10 \esp32_spi_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 11 \esp32_spi_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 12 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 13 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 14 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 15 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 16 \uart_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 17 \uart_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 18 \uart_0__rts__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 19 \uart_0__dtr__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 20 \clk25_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 21 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 22 \button_fire_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 23 \button_fire_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 24 \button_up_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 25 \button_down_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 26 \button_left_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 27 \button_right_0__io
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_clk$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_rst$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 \rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__pwr$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireA$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireB$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__up$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__down
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__down$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__left$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__right$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_button_ffsync_i_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_button_ffsync_i_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_button_ffsync_i_buttons__left
  cell \i_button_ffsync \i_button_ffsync
    connect \clk \clk
    connect \i_unsync_buttons__pwr \i_button_ffsync_i_unsync_buttons__pwr
    connect \i_unsync_buttons__fireA \i_button_ffsync_i_unsync_buttons__fireA
    connect \i_unsync_buttons__fireB \i_button_ffsync_i_unsync_buttons__fireB
    connect \i_unsync_buttons__up \i_button_ffsync_i_unsync_buttons__up
    connect \i_unsync_buttons__down \i_button_ffsync_i_unsync_buttons__down
    connect \i_unsync_buttons__left \i_button_ffsync_i_unsync_buttons__left
    connect \i_unsync_buttons__right \i_button_ffsync_i_unsync_buttons__right
    connect \i_buttons__pwr \i_button_ffsync_i_buttons__pwr
    connect \i_buttons__right \i_button_ffsync_i_buttons__right
    connect \i_buttons__left \i_button_ffsync_i_buttons__left
    connect \rst \rst
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 \tb_ui__start
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 \tb_ui__start$next
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 \tb_ui__done
  attribute \src "tests2_feb2022/test1_amlib_timers.py:88"
  wire width 1 \tb_ui__active
  attribute \src "tests2_feb2022/test1_amlib_timers.py:89"
  wire width 8 \tb_leds
  cell \tb \tb
    connect \sync_1e6_clk \sync_1e6_clk
    connect \ui__start \tb_ui__start
    connect \ui__done \tb_ui__done
    connect \ui__active \tb_ui__active
    connect \sync_1e6_rst \sync_1e6_rst
    connect \leds \tb_leds
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_0_led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_0_led_0__o$next
  cell \pin_led_0 \pin_led_0
    connect \led_0__o \pin_led_0_led_0__o
    connect \led_0__io \led_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_1_led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_1_led_1__o$next
  cell \pin_led_1 \pin_led_1
    connect \led_1__o \pin_led_1_led_1__o
    connect \led_1__io \led_1__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_2_led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_2_led_2__o$next
  cell \pin_led_2 \pin_led_2
    connect \led_2__o \pin_led_2_led_2__o
    connect \led_2__io \led_2__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_3_led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_3_led_3__o$next
  cell \pin_led_3 \pin_led_3
    connect \led_3__o \pin_led_3_led_3__o
    connect \led_3__io \led_3__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_4_led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_4_led_4__o$next
  cell \pin_led_4 \pin_led_4
    connect \led_4__o \pin_led_4_led_4__o
    connect \led_4__io \led_4__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_5_led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_5_led_5__o$next
  cell \pin_led_5 \pin_led_5
    connect \led_5__o \pin_led_5_led_5__o
    connect \led_5__io \led_5__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_6_led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_6_led_6__o$next
  cell \pin_led_6 \pin_led_6
    connect \led_6__o \pin_led_6_led_6__o
    connect \led_6__io \led_6__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_7_led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_7_led_7__o$next
  cell \pin_led_7 \pin_led_7
    connect \led_7__o \pin_led_7_led_7__o
    connect \led_7__io \led_7__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o$next
  cell \pin_esp32_spi_0__en \pin_esp32_spi_0__en
    connect \esp32_spi_0__en__o \pin_esp32_spi_0__en_esp32_spi_0__en__o
    connect \esp32_spi_0__en__io \esp32_spi_0__en__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next
  cell \pin_esp32_spi_0__tx \pin_esp32_spi_0__tx
    connect \esp32_spi_0__tx__o \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    connect \esp32_spi_0__tx__io \esp32_spi_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
  cell \pin_esp32_spi_0__rx \pin_esp32_spi_0__rx
    connect \esp32_spi_0__rx__i \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
    connect \esp32_spi_0__rx__io \esp32_spi_0__rx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next
  cell \pin_esp32_spi_0__gpio0 \pin_esp32_spi_0__gpio0
    connect \esp32_spi_0__gpio0__o \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    connect \esp32_spi_0__gpio0__io \esp32_spi_0__gpio0__io
  end
  cell \pin_esp32_spi_0__gpio4_copi \pin_esp32_spi_0__gpio4_copi
    connect \esp32_spi_0__gpio4_copi__io \esp32_spi_0__gpio4_copi__io
  end
  cell \pin_esp32_spi_0__gpio5_cs \pin_esp32_spi_0__gpio5_cs
    connect \esp32_spi_0__gpio5_cs__io \esp32_spi_0__gpio5_cs__io
  end
  cell \pin_esp32_spi_0__gpio12_cipo \pin_esp32_spi_0__gpio12_cipo
    connect \esp32_spi_0__gpio12_cipo__io \esp32_spi_0__gpio12_cipo__io
  end
  cell \pin_esp32_spi_0__gpio16_sclk \pin_esp32_spi_0__gpio16_sclk
    connect \esp32_spi_0__gpio16_sclk__io \esp32_spi_0__gpio16_sclk__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rx_uart_0__rx__i
  cell \pin_uart_0__rx \pin_uart_0__rx
    connect \uart_0__rx__i \pin_uart_0__rx_uart_0__rx__i
    connect \uart_0__rx__io \uart_0__rx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o$next
  cell \pin_uart_0__tx \pin_uart_0__tx
    connect \uart_0__tx__o \pin_uart_0__tx_uart_0__tx__o
    connect \uart_0__tx__io \uart_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rts_uart_0__rts__i
  cell \pin_uart_0__rts \pin_uart_0__rts
    connect \uart_0__rts__i \pin_uart_0__rts_uart_0__rts__i
    connect \uart_0__rts__io \uart_0__rts__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__dtr_uart_0__dtr__i
  cell \pin_uart_0__dtr \pin_uart_0__dtr
    connect \uart_0__dtr__i \pin_uart_0__dtr_uart_0__dtr__i
    connect \uart_0__dtr__io \uart_0__dtr__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_clk25_0_clk25_0__i
  cell \pin_clk25_0 \pin_clk25_0
    connect \clk25_0__i \pin_clk25_0_clk25_0__i
    connect \clk25_0__io \clk25_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_pwr_0_button_pwr_0__i
  cell \pin_button_pwr_0 \pin_button_pwr_0
    connect \button_pwr_0__i \pin_button_pwr_0_button_pwr_0__i
    connect \button_pwr_0__io \button_pwr_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_fire_0_button_fire_0__i
  cell \pin_button_fire_0 \pin_button_fire_0
    connect \button_fire_0__i \pin_button_fire_0_button_fire_0__i
    connect \button_fire_0__io \button_fire_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_fire_1_button_fire_1__i
  cell \pin_button_fire_1 \pin_button_fire_1
    connect \button_fire_1__i \pin_button_fire_1_button_fire_1__i
    connect \button_fire_1__io \button_fire_1__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_up_0_button_up_0__i
  cell \pin_button_up_0 \pin_button_up_0
    connect \button_up_0__i \pin_button_up_0_button_up_0__i
    connect \button_up_0__io \button_up_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_down_0_button_down_0__i
  cell \pin_button_down_0 \pin_button_down_0
    connect \button_down_0__i \pin_button_down_0_button_down_0__i
    connect \button_down_0__io \button_down_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_left_0_button_left_0__i
  cell \pin_button_left_0 \pin_button_left_0
    connect \button_left_0__i \pin_button_left_0_button_left_0__i
    connect \button_left_0__io \button_left_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_right_0_button_right_0__i
  cell \pin_button_right_0 \pin_button_right_0
    connect \button_right_0__i \pin_button_right_0_button_right_0__i
    connect \button_right_0__io \button_right_0__io
  end
  process $group_0
    assign \clk 1'0
    assign \clk { \pin_clk25_0_clk25_0__i }
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 4 \clk_counter
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 4 \clk_counter$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 5 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 5 $2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  cell $add $3
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 5
    connect \A \clk_counter
    connect \B 1'1
    connect \Y $2
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 5 $4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  cell $eq $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \clk_counter
    connect \B 4'1011
    connect \Y $5
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  cell $mux $7
    parameter \WIDTH 5
    connect \A $2
    connect \B 5'00000
    connect \S $5
    connect \Y $4
  end
  connect $1 $4
  process $group_1
    assign \clk_counter$next \clk_counter
    assign \clk_counter$next $1 [3:0]
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \clk_counter$next 4'0000
    end
    sync init
      update \clk_counter 4'0000
    sync posedge \clk
      update \clk_counter \clk_counter$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  wire width 1 $8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  cell $not $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \sync_1e6_clk
    connect \Y $8
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  wire width 1 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  wire width 1 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  cell $eq $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \clk_counter
    connect \B 1'0
    connect \Y $11
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  cell $mux $13
    parameter \WIDTH 1
    connect \A \sync_1e6_clk
    connect \B $8
    connect \S $11
    connect \Y $10
  end
  process $group_2
    assign \sync_1e6_clk$next \sync_1e6_clk
    assign \sync_1e6_clk$next $10
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \sync_1e6_clk$next 1'0
    end
    sync init
      update \sync_1e6_clk 1'0
    sync posedge \clk
      update \sync_1e6_clk \sync_1e6_clk$next
  end
  process $group_3
    assign \i_button_ffsync_i_unsync_buttons__pwr$next \i_button_ffsync_i_unsync_buttons__pwr
    assign \i_button_ffsync_i_unsync_buttons__pwr$next { \pin_button_pwr_0_button_pwr_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__pwr$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__pwr 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__pwr \i_button_ffsync_i_unsync_buttons__pwr$next
  end
  process $group_4
    assign \i_button_ffsync_i_unsync_buttons__fireA$next \i_button_ffsync_i_unsync_buttons__fireA
    assign \i_button_ffsync_i_unsync_buttons__fireA$next { \pin_button_fire_0_button_fire_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__fireA$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__fireA 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__fireA \i_button_ffsync_i_unsync_buttons__fireA$next
  end
  process $group_5
    assign \i_button_ffsync_i_unsync_buttons__fireB$next \i_button_ffsync_i_unsync_buttons__fireB
    assign \i_button_ffsync_i_unsync_buttons__fireB$next { \pin_button_fire_1_button_fire_1__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__fireB$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__fireB 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__fireB \i_button_ffsync_i_unsync_buttons__fireB$next
  end
  process $group_6
    assign \i_button_ffsync_i_unsync_buttons__up$next \i_button_ffsync_i_unsync_buttons__up
    assign \i_button_ffsync_i_unsync_buttons__up$next { \pin_button_up_0_button_up_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__up$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__up 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__up \i_button_ffsync_i_unsync_buttons__up$next
  end
  process $group_7
    assign \i_button_ffsync_i_unsync_buttons__down$next \i_button_ffsync_i_unsync_buttons__down
    assign \i_button_ffsync_i_unsync_buttons__down$next { \pin_button_down_0_button_down_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__down$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__down 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__down \i_button_ffsync_i_unsync_buttons__down$next
  end
  process $group_8
    assign \i_button_ffsync_i_unsync_buttons__left$next \i_button_ffsync_i_unsync_buttons__left
    assign \i_button_ffsync_i_unsync_buttons__left$next { \pin_button_left_0_button_left_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__left$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__left 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__left \i_button_ffsync_i_unsync_buttons__left$next
  end
  process $group_9
    assign \i_button_ffsync_i_unsync_buttons__right$next \i_button_ffsync_i_unsync_buttons__right
    assign \i_button_ffsync_i_unsync_buttons__right$next { \pin_button_right_0_button_right_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__right$next 1'0
    end
    sync init
      update \i_button_ffsync_i_unsync_buttons__right 1'0
    sync posedge \sync_1e6_clk
      update \i_button_ffsync_i_unsync_buttons__right \i_button_ffsync_i_unsync_buttons__right$next
  end
  process $group_10
    assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    assign { \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next } { \pin_uart_0__rx_uart_0__rx__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next 1'0
    end
    sync init
      update \pin_esp32_spi_0__tx_esp32_spi_0__tx__o 1'0
    sync posedge \clk
      update \pin_esp32_spi_0__tx_esp32_spi_0__tx__o \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next
  end
  process $group_11
    assign \pin_uart_0__tx_uart_0__tx__o$next \pin_uart_0__tx_uart_0__tx__o
    assign { \pin_uart_0__tx_uart_0__tx__o$next } { \pin_esp32_spi_0__rx_esp32_spi_0__rx__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_uart_0__tx_uart_0__tx__o$next 1'0
    end
    sync init
      update \pin_uart_0__tx_uart_0__tx__o 1'0
    sync posedge \clk
      update \pin_uart_0__tx_uart_0__tx__o \pin_uart_0__tx_uart_0__tx__o$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $14
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $14
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $16
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $16
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $18
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $and $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $14
    connect \B $16
    connect \Y $18
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $20
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $20
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $22
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $22
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  wire width 1 $24
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  cell $and $25
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $20
    connect \B $22
    connect \Y $24
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $26
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $27
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $26
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $28
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $29
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $28
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  wire width 1 $30
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  cell $and $31
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $26
    connect \B $28
    connect \Y $30
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $32
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $34
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $35
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $34
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $36
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $and $37
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $32
    connect \B $34
    connect \Y $36
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  wire width 1 $38
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  cell $not $39
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $38
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  wire width 1 $40
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  cell $and $41
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $38
    connect \Y $40
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  wire width 1 $42
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  cell $not $43
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $42
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  wire width 1 $44
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  cell $and $45
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $42
    connect \Y $44
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  wire width 1 $46
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  cell $not $47
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $46
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  wire width 1 $48
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  cell $and $49
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'0
    connect \B $46
    connect \Y $48
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  wire width 1 $50
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  cell $not $51
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $50
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  wire width 1 $52
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  cell $and $53
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $50
    connect \Y $52
  end
  process $group_12
    assign \pin_esp32_spi_0__en_esp32_spi_0__en__o$next \pin_esp32_spi_0__en_esp32_spi_0__en__o
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
    switch { $36 $30 $24 $18 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
      case 4'---1
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $40
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
      case 4'--1-
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $44
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
      case 4'-1--
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $48
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
      case 4'1---
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $52
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__en_esp32_spi_0__en__o$next 1'0
    end
    sync init
      update \pin_esp32_spi_0__en_esp32_spi_0__en__o 1'0
    sync posedge \clk
      update \pin_esp32_spi_0__en_esp32_spi_0__en__o \pin_esp32_spi_0__en_esp32_spi_0__en__o$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $54
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $55
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $54
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $56
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $57
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $56
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $58
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $and $59
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $54
    connect \B $56
    connect \Y $58
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $60
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $61
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $60
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $62
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $63
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $62
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  wire width 1 $64
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  cell $and $65
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $60
    connect \B $62
    connect \Y $64
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $66
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $67
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $66
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $68
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $69
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $68
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  wire width 1 $70
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  cell $and $71
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $66
    connect \B $68
    connect \Y $70
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $72
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $73
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $72
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $74
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $75
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $74
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $76
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $and $77
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $72
    connect \B $74
    connect \Y $76
  end
  process $group_13
    assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
    switch { $76 $70 $64 $58 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
      case 4'---1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
      case 4'--1-
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
      case 4'-1--
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
      case 4'1---
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'0
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'0
    end
    sync init
      update \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o 1'0
    sync posedge \clk
      update \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:248"
  wire width 1 \ui__start
  attribute \src "tests2_feb2022/test1_amlib_timers.py:248"
  wire width 1 \ui__start$next
  process $group_14
    assign \tb_ui__start$next \tb_ui__start
    assign \tb_ui__start$next \ui__start
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \tb_ui__start$next 1'0
    end
    sync init
      update \tb_ui__start 1'0
    sync posedge \sync_1e6_clk
      update \tb_ui__start \tb_ui__start$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:248"
  wire width 1 \ui__done
  attribute \src "tests2_feb2022/test1_amlib_timers.py:248"
  wire width 1 \ui__done$next
  process $group_15
    assign \ui__done$next \ui__done
    assign \ui__done$next \tb_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__done$next 1'0
    end
    sync init
      update \ui__done 1'0
    sync posedge \sync_1e6_clk
      update \ui__done \ui__done$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:248"
  wire width 1 \ui__active
  attribute \src "tests2_feb2022/test1_amlib_timers.py:248"
  wire width 1 \ui__active$next
  process $group_16
    assign \ui__active$next \ui__active
    assign \ui__active$next \tb_ui__active
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__active$next 1'0
    end
    sync init
      update \ui__active 1'0
    sync posedge \sync_1e6_clk
      update \ui__active \ui__active$next
  end
  process $group_17
    assign \sync_1e6_rst$next \sync_1e6_rst
    assign \sync_1e6_rst$next \i_button_ffsync_i_buttons__right
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \sync_1e6_rst$next 1'0
    end
    sync init
      update \sync_1e6_rst 1'0
    sync posedge \sync_1e6_clk
      update \sync_1e6_rst \sync_1e6_rst$next
  end
  attribute \src "tests2_feb2022/test1_amlib_timers.py:260"
  wire width 1 \start
  attribute \src "tests2_feb2022/test1_amlib_timers.py:260"
  wire width 1 \start$next
  process $group_18
    assign \start$next \start
    assign \start$next \i_button_ffsync_i_buttons__left
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \start$next 1'0
    end
    sync init
      update \start 1'0
    sync posedge \sync_1e6_clk
      update \start \start$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $78
  attribute \amaranth.sample_reg 1
  attribute \src "tests2_feb2022/test1_amlib_timers.py:260"
  wire width 1 $sample$s$start$sync_1e6$1
  attribute \src "tests2_feb2022/test1_amlib_timers.py:260"
  wire width 1 $sample$s$start$sync_1e6$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $not $79
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$start$sync_1e6$1
    connect \Y $78
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $80
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $and $81
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $78
    connect \B \start
    connect \Y $80
  end
  process $group_19
    assign \ui__start$next \ui__start
    assign \ui__start$next $80
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \ui__start$next 1'0
    end
    sync init
      update \ui__start 1'0
    sync posedge \sync_1e6_clk
      update \ui__start \ui__start$next
  end
  process $group_20
    assign \pin_led_0_led_0__o$next \pin_led_0_led_0__o
    assign \pin_led_1_led_1__o$next \pin_led_1_led_1__o
    assign \pin_led_2_led_2__o$next \pin_led_2_led_2__o
    assign \pin_led_3_led_3__o$next \pin_led_3_led_3__o
    assign \pin_led_4_led_4__o$next \pin_led_4_led_4__o
    assign \pin_led_5_led_5__o$next \pin_led_5_led_5__o
    assign \pin_led_6_led_6__o$next \pin_led_6_led_6__o
    assign \pin_led_7_led_7__o$next \pin_led_7_led_7__o
    assign { { \pin_led_7_led_7__o$next } { \pin_led_6_led_6__o$next } { \pin_led_5_led_5__o$next } { \pin_led_4_led_4__o$next } { \pin_led_3_led_3__o$next } { \pin_led_2_led_2__o$next } { \pin_led_1_led_1__o$next } { \pin_led_0_led_0__o$next } } \tb_leds
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \pin_led_0_led_0__o$next 1'0
        assign \pin_led_1_led_1__o$next 1'0
        assign \pin_led_2_led_2__o$next 1'0
        assign \pin_led_3_led_3__o$next 1'0
        assign \pin_led_4_led_4__o$next 1'0
        assign \pin_led_5_led_5__o$next 1'0
        assign \pin_led_6_led_6__o$next 1'0
        assign \pin_led_7_led_7__o$next 1'0
    end
    sync init
      update \pin_led_0_led_0__o 1'0
      update \pin_led_1_led_1__o 1'0
      update \pin_led_2_led_2__o 1'0
      update \pin_led_3_led_3__o 1'0
      update \pin_led_4_led_4__o 1'0
      update \pin_led_5_led_5__o 1'0
      update \pin_led_6_led_6__o 1'0
      update \pin_led_7_led_7__o 1'0
    sync posedge \sync_1e6_clk
      update \pin_led_0_led_0__o \pin_led_0_led_0__o$next
      update \pin_led_1_led_1__o \pin_led_1_led_1__o$next
      update \pin_led_2_led_2__o \pin_led_2_led_2__o$next
      update \pin_led_3_led_3__o \pin_led_3_led_3__o$next
      update \pin_led_4_led_4__o \pin_led_4_led_4__o$next
      update \pin_led_5_led_5__o \pin_led_5_led_5__o$next
      update \pin_led_6_led_6__o \pin_led_6_led_6__o$next
      update \pin_led_7_led_7__o \pin_led_7_led_7__o$next
  end
  process $group_28
    assign $sample$s$start$sync_1e6$1$next $sample$s$start$sync_1e6$1
    assign $sample$s$start$sync_1e6$1$next \start
    sync init
      update $sample$s$start$sync_1e6$1 1'0
    sync posedge \sync_1e6_clk
      update $sample$s$start$sync_1e6$1 $sample$s$start$sync_1e6$1$next
  end
  connect \rst 1'0
end
